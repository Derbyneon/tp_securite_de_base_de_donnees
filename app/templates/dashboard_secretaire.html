{% extends 'base.html' %}

{% block content %}
    <h1>Bienvenue, Secr√©taire {{ current_user.username }} !</h1>

    <h2>Gestion des Cours</h2>
    <ul>
        {% for course in courses %}
            <li>
                {{ course.title }} - {{ course.course_type }}
                <a href="{{ url_for('update_course', course_id=course.id) }}">Modifier</a>
                <form method="POST" action="{{ url_for('delete_course', course_id=course.id) }}" style="display:inline;">
                    <button type="submit" class="btn btn-danger">Supprimer</button>
                </form>
            </li>
        {% endfor %}
    </ul>

    <h2>Ajouter un Nouveau Cours</h2>
    <form method="POST" action="{{ url_for('add_course') }}">
        <input type="text" name="title" placeholder="Titre du cours" required>
        <input type="text" name="course_type" placeholder="Type de cours (ex: CM, TD, TP)" required>
        <input type="number" name="hours" placeholder="Nombre d'heures" required>
        <textarea name="description" placeholder="Description du cours"></textarea>
        <button type="submit" class="btn btn-primary">Ajouter</button>
    </form>

    <h2>Gestion des Utilisateurs</h2>
    <ul>
        {% for user in users %}
            <li>
                {{ user.username }} - {{ user.role.name }}
                <!-- Lien pour modifier l'utilisateur -->
                <a href="{{ url_for('update_user', user_id=user.id) }}">Modifier</a>
                <!-- Formulaire pour supprimer l'utilisateur -->
                <form method="POST" action="{{ url_for('delete_user', user_id=user.id) }}" style="display:inline;">
                    <button type="submit" class="btn btn-danger">Supprimer</button>
                </form>
                
            </li>
        {% endfor %}
    </ul>

    <h2>Gestion des Notes</h2>
    <ul>
        {% for grade in grades %}
            <li>
                {{ grade.course.title }} - {{ grade.grade }} - {{ grade.exam_type }}
                
            </li>
        {% endfor %}
    </ul>
{% endblock %}
